http {
    # Define upstream servers
    upstream backend_servers {
        server 192.168.1.101:88;  # App server
        server 192.168.1.100:89;  # AI server
        # Add more servers if needed
    }

    # Server for AI and App proxy
    server {
        listen 94;  # Replace 94 with your ${NGINX_PORT} value
        server_name 192.168.1.100;  # Replace with ${AI_SERVER_PRIVATE_ADDRESS}

        # Route for AI server
        location /ai {
            proxy_pass http://192.168.1.100:89;  # AI server
        }

        # Route for App server
        location /app {
            proxy_pass http://192.168.1.101:88;  # App server
        }
    }

    # Server for load balancing
    server {
        listen 95;  # Separate port for load balancing if needed
        server_name load_balancer;

        location / {
            proxy_pass http://backend_servers;
        }
    }
}
